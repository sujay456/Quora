var ForResetCheckEmail,signupSubmit=function(e){$(e).submit((function(n){n.preventDefault(),$.ajax({type:"post",url:"/user/signup",data:$(e).serialize(),success:function(n){$(e)[0].reset(),$("#signup-created").removeClass("hide"),$("#signup-created").addClass("show"),setTimeout((function(){$("#signup-created").removeClass("show"),$("#signup-created").addClass("hide")}),1800)},error:function(e){$("#signup-noty").removeClass("hide"),$("#signup-noty").addClass("show"),setTimeout((function(){$("#signup-noty").removeClass("show"),$("#signup-noty").addClass("hide")}),1800),console.log("error",e.responseText)}})}))},CheckingEmail=function(){let e=$("#email");e.blur((function(n){n.target.value;$.ajax({type:"post",url:"/user/checkemail",data:e.serialize(),success:function(n){n.user?e.addClass("red"):e.removeClass("red")},error:function(e){console.log("Error",e)}})}))},ShowSignup=function(){let e=$("#login-methods"),n=$("#social-auth");$("#signUp").click((function(s){s.preventDefault(),n.hide();let a=$(' \n        <div id="signup-form">\n            <h5>Sign up</h5>\n\n            <form id="signup-submit" action="/user/signup" method="post">\n                <label for="name">First Name</label>\n                <input class="small" id="name" type="text" name="name" required>\n\n                <div id="shift"> \n                    <label for="lastName">Last Name</label>\n                    <input class="small" id="lastName" type="text" name="lastname" required>\n                </div>\n    \n                <label for="email">Email</label>\n                <input id="email" class="auth" type="email" name="email" required>\n                \n                <label for="pass">Password</label>\n                <input id="pass" class="auth" type="password" name="password" required>\n\n                \n            \n            \n            <span>By clicking "Sign Up" you indicate that you have read and agree to Quora\'s <a>Terms of Service</a> and <a href="" >Privacy Policy</a>.</span>\n            <a id="socialauthButton" href="" >Cancel</a>\n            <input type="submit" value="Sign Up">\n\n            </form>\n         </div>\n        ');e.prepend(a),CheckingEmail(),signupSubmit($("#signup-submit")),$("#socialauthButton").click((function(e){e.preventDefault(),$("#signup-form").hide(),n.show()}))}))},emailLoginCheck=function(){let e=$('#login-form input[type="email"]');e.blur((function(n){$.ajax({type:"post",url:"/user/checkemail",data:e.serialize(),success:function(e){e.user?(ForResetCheckEmail=!0,$("#warning").addClass("hide")):(ForResetCheckEmail=!1,$("#warning").removeClass("hide"))},error:function(e){console.log("Error",e)}})}))};function popup(e,n,s){$(".pop-up span")[0].innerText=""+e,$(".pop-up").addClass("top "+s),setTimeout((function(){$(".pop-up").removeClass("top "+s)}),n)}function reset(){event.preventDefault();let e=$('#login-form input[type="email"]');if(e[0].value)if(ForResetCheckEmail)$.ajax({type:"get",url:"/settings/reset-pass?email="+e[0].value,success:function(n){popup(`Instructions on how to reset your password were sent to ${e[0].value}.`,3e3,"white-popup")},error:function(e){console.log("Error",e.responseText)}});else{popup("Please Enter a Valid Email Address",2e3,"grey-popup")}else{popup('Please Enter your  email address in the emailbox then click on "Forgot Password" ',3e3,"grey-popup")}}ShowSignup(),emailLoginCheck();