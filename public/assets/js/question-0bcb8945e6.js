function follow(){let e=$(event.target).parentsUntil("div.not-answered"),t=$(e[e.length-1]),n=$(" .follow",t)[0];console.log(n);let o=$(n).attr("link");console.log(o),$(" i",$(n)).toggleClass("blue grey"),$(" span",$(n)).toggleClass("blue grey"),$(" .outer-cage",$(n)).toggleClass("upanddown initial"),setTimeout((function(){$(" i",$(n)).css("transform","scale(1)")}),100),$(" i",$(n)).css("transform","scale(1.2)"),$.ajax({type:"get",url:o,success:function(e){console.log(e)},error:function(e){console.log(e.responseText)}})}function showOptions(){$(".options-for-question").toggleClass("display"),event.stopPropagation()}function showOptionsA(){console.log("hi"),$(".options-for-answer").toggleClass("display"),event.stopPropagation()}function showAnswerTab(){let e=$(event.target).parentsUntil("div#questions-for-you");$(" .asking_to_answer_container",$(e[e.length-1])).toggleClass("display"),$(" .textarea-for-answering",$(e[e.length-1])).toggleClass("display")}function show1nav(){let e=$(event.target).parentsUntil("div.controls");$(e[e.length-1]).css("top","0px")}function show2nav(){let e=$(event.target).parentsUntil("div.controls"),t=$(" input",$(e[0]))[0].value,n=$(event.target).parentsUntil("div.not-answered"),o=$(" .input div",$(n[n.length-1]));htmlLink=$(`<a href=http://${t}>${t}</a>`),o[0].append(htmlLink[0]),$(e[e.length-1]).css("top","-43px")}function blue(){let e=$(event.target).parentsUntil(".not-answered");console.log(e);let t=$(" .input div",e[e.length-1]);if(0==$(event.target).children().length){$(event.target).toggleClass("active");let e=$(event.target).parentsUntil(".primary_controls");"bold"==$(" input",e[0])[0].value?t.toggleClass("bold"):t.toggleClass("italic")}else{$(" i",$(event.target)).toggleClass("active"),"bold"==$(" input",$(event.target))[0].value?t.toggleClass("bold"):t.toggleClass("italic")}}function submit(){let e=!1;e=$(event.target).attr("edit");let t=$(event.target).parentsUntil(".not-answered"),n=$(" .input",$(t[t.length-1])),o=$(" .textArea",n)[0];if(console.log(o.innerText),""==o.innerText)console.log($(".pop-up span")),$(".pop-up span")[0].innerText="Answer can not be blank",$(".pop-up").addClass("top"),setTimeout((function(){$(".pop-up").removeClass("top")}),2e3);else{let t=$(event.target).attr("id");$.ajax({type:"post",url:$(event.target).attr("link"),data:{answer:o.innerText,editable:e},success:function(e){console.log(e),window.location.href="/question/display?id="+t},error:function(e){console.log(e),$(".pop-up span")[0].innerText=e.responseJSON.message,$(".pop-up").addClass("top"),setTimeout((function(){$(".pop-up").removeClass("top")}),2e3)}})}}function toggleCommentSectionO(){let e=$(event.target).parentsUntil("#other-user-answer");$(" .comments-container",$(e[e.length-1])).toggleClass("display")}function toggleCommentSection(){let e=$(event.target).parentsUntil("#question-container");$(" .comments-container",$(e[e.length-1])).toggleClass("display")}function showOptionsComment(){console.log("Hello");let e=$(event.target).parentsUntil(".comments-container");$(" .options-for-comment",$(e[e.length-1])).toggleClass("display"),event.stopPropagation()}function commentDomUser(e,t){return $(`\n            <div class="comment animate__animated animate__fadeIn" id="comment-${e._id}">\n\n                <img src="${e.user.avatar}" alt="" height="40px">\n                <a href="/profile?id=${e.user._id}">\n                <span class="bold">${e.user.name}</span>\n              </a>\n                <small>${t}</small>\n                <p class="content">${e.comment}</p>\n                <div class="update-container display">\n                    <input type="text" value="${e.comment}" name="updatedComment" required>\n                    <div class="button">\n                        <button onclick="hideUpdateContainer();" class="cancel">Cancel</button>\n                        <button class="update" onclick="EditComment();" c_id=${e._id} >Update</button>\n                    </div>\n                </div>\n                <div class="controls">\n                    <button class="upvote" onclick="upvoteComment();" idComment="${e._id}">\n                            <i class="far fa-thumbs-up fa-lg grey first"></i>\n                            <div class="number_of_like">\n                                <div class="outer-cage initial">\n                                    <div class="grey">${e.like.length}</div>\n                                    <div class="grey">${e.like.length+1}</div>\n                                </div>\n                            </div>\n                    </button>\n                    <i class="fas fa-ellipsis-h fa-lg more" onclick="showOptionsComment();" ></i>\n                </div>\n                \n                <div class="options-for-comment background-white animate__animated animate__pulse animate__faster display" >\n                    <div class="style" onclick="DeleteComment();" a_id="${e.answer}" c_id="${e._id}">\n                        <span a_id="${e.answer}" c_id="${e._id}">Delete Comment</span>\n                    </div>\n                    \n                    <div class="style" onclick="hideUpdateContainer()">\n                        <span>Edit Comment</span>\n                    </div>\n                </div>\n                \n    \n            </div>\n`)}function calcTime(e){let t,n=new Date,o=new Date(e.createdAt);return t=n.getFullYear()-o.getFullYear()!=0?n.getFullYear()-o.getFullYear()+" year ago":n.getMonth()-o.getMonth()!=0?n.getMonth()-o.getMonth()+" month ago":n.getDate()-o.getDate()!=0?n.getDate()-o.getDate()+" day ago":n.getHours()-o.getHours()!=0?n.getHours()-o.getHours()+" hour ago":n.getMinutes()-o.getMinutes()+" minutes ago",t}function commentSubmitUser(){let e=$(event.target).parentsUntil("#user-anwser");console.log(e);let t=$(" input",$(e[e.length-1]))[0].value;if(""==t)return $(".pop-up span")[0].innerText="Comment can not be blank",$(".pop-up").addClass("top"),void setTimeout((function(){$(".pop-up").removeClass("top")}),2e3);$(" .comments-container",$(e[e.length-1])).removeClass("display");let n=$(" input",$(e[e.length-1])).attr("id");$.ajax({type:"post",url:"/comment/create?id="+n,data:{comment:t},success:function(t){console.log(t),$(" input",$(e[e.length-1]))[0].value="";let n=calcTime(t.data.comment),o=commentDomUser(t.data.comment,n);$(" .comments-container",$(e[e.length-1])).prepend(o)},error:function(e){console.log(e.responseText)}})}function commentSubmitOther(){let e=$(event.target).parentsUntil(".answers_another_user"),t=$(" input",$(e[e.length-1]))[0].value;if(""==t)return $(".pop-up span")[0].innerText="Comment can not be blank",$(".pop-up").addClass("top"),void setTimeout((function(){$(".pop-up").removeClass("top")}),2e3);$(" .comments-container",$(e[e.length-1])).removeClass("display");let n=$(" input",$(e[e.length-1])).attr("id");$.ajax({type:"post",url:"/comment/create?id="+n,data:{comment:t},success:function(t){console.log(t),$(" input",$(e[e.length-1]))[0].value="",console.log(t.data.comment);let n=calcTime(t.data.comment),o=commentDomUser(t.data.comment,n);$(" .comments-container",$(e[e.length-1])).prepend(o)},error:function(e){console.log(e.responseText)}})}function dislikeComment(e){$(" i,div",e).toggleClass("grey red animate__bounceIn")}function dislikeAnswer(e){$(" .down,div",e).toggleClass("grey red animate__bounceIn")}function like(e){$(" i,div",e).toggleClass("blue grey animate__bounceIn"),$(" .outer-cage",e).toggleClass("upanddown initial")}function upvoteAnswer(){let e=$(event.target).parentsUntil(".controls"),t=$(event.target).parentsUntil(".answer"),n=$(" .dislike",$(t[t.length-1]));$(" i,div",$(e[e.length-1])).toggleClass("blue grey animate__bounceIn"),$(" .outer-cage",$(e[e.length-1])).toggleClass("upanddown initial");let o=$(e[e.length-1]).attr("idAnswer");$.ajax({type:"post",url:"/like/create?id="+o,data:{type:"Answer"},success:function(e){console.log(e),e.removedDislike&&dislikeAnswer(n)},error:function(e){console.log(e.responseText)}})}function upvoteComment(){let e=$(event.target).parentsUntil(".controls"),t=$(event.target).parentsUntil(".comment"),n=$(" .dislike",$(t[t.length-1]));$(" i,div",$(e[e.length-1])).toggleClass("blue grey animate__bounceIn"),$(" .outer-cage",$(e[e.length-1])).toggleClass("upanddown initial");let o=$(e[e.length-1]).attr("idComment");$.ajax({type:"post",url:"/like/create?id="+o,data:{type:"Comment"},success:function(e){e.removedDislike&&dislikeComment(n),console.log(e)},error:function(e){console.log(e.responseText)}})}function downvoteAnswer(){let e=$(event.target).parentsUntil("span"),t=$(event.target).parentsUntil(".answer"),n=$(" .like",$(t[t.length-1]));$(" .down,div",$(e[e.length-1])).toggleClass("grey red animate__bounceIn");let o=$(e[e.length-1]).attr("idAnswer");$.ajax({type:"post",url:"/dislike/toggle?id="+o,data:{type:"Answer"},success:function(e){console.log(e),e.removedLike&&like(n)},error:function(e){console.log("Error")}})}function downvoteComment(){let e=$(event.target).parentsUntil(".controls"),t=$(event.target).parentsUntil(".comment"),n=$(" .like",$(t[t.length-1]));$(" i,div",$(e[e.length-1])).toggleClass("grey red animate__bounceIn");let o=$(e[e.length-1]).attr("idComment");$.ajax({type:"post",url:"/dislike/toggle?id="+o,data:{type:"Comment"},success:function(e){console.log(e),e.removedLike&&like(n)},error:function(e){console.log(e.responseText)}})}function DeleteComment(){let e=$(event.target).parentsUntil(".comments-container");console.log(e);let t=$(event.target).attr("a_id"),n=$(event.target).attr("c_id");console.log(t,n),$.ajax({type:"get",url:`/comment/delete?a_id=${t}&c_id=${n}`,success:function(e){console.log(e),$("#comment-"+n).addClass("animate__animated animate__zoomOut"),setTimeout((function(){$("#comment-"+n).remove()}),600)},error:function(e){console.log(e.responseText)}})}function deleteAnswer(){let e=$(event.target).attr("a_id");console.log(e),$.ajax({type:"get",url:"/answers/delete?a_id="+e,success:function(e){console.log(e),$("#user-anwser").addClass("animate__animated animate__fadeOut"),setTimeout((function(){$("#user-anwser").remove(),$(".deleted-answer-message").removeClass("display")}),600)},error:function(e){console.log(e.responseText)}})}function EditAnswer(){let e=$(event.target).parentsUntil("#user-anwser");$(e[e.length-1]).addClass("display"),$(".Editable-Answer .textarea-for-answering").removeClass("display");const t=$(event.target).attr("answer");$(".Editable-Answer .textarea-for-answering .textArea").append(t),$(".Editable-Answer .textarea-for-answering .footer button").attr("edit","true"),console.log($(".Editable-Answer .textarea-for-answering .footer button").attr("edit"))}function hideUpdateContainer(){let e=$(event.target).parentsUntil(".comments-container");$(" .content",$(e[e.length-1])).toggleClass("display"),$(" .update-container",$(e[e.length-1])).toggleClass("display")}function EditComment(){let e=$(event.target).parentsUntil(".comments-container"),t=$(" .update-container input",e[e.length-1])[0].value;console.log(t);let n=$(event.target).attr("c_id");console.log(n),$.ajax({type:"post",url:"/comment/update?id="+n,data:{editedComment:t},success:function(n){$(" .content",$(e[e.length-1])).removeClass("display"),$(" .content",$(e[e.length-1]))[0].innerText=t,$(" .update-container",$(e[e.length-1])).addClass("display"),console.log(n)},error:function(e){console.log(e.responseText)}})}$(document).click((function(){$(".options-for-question").addClass("display"),$(".options-for-answer").addClass("display"),$(".options-for-comment").addClass("display")}));